%\section{Zielbestimmung}
%\subsection{Musskriterien}
%\subsubsection{Web-Interface}
%\begin{itemize}
%    \item Das System verfügt über ein \gls{Web-Interface}.
%    \item Beim ersten Aufruf des \glslink{Web-Interface}{Web-Interfaces} wird eine Anmelde-Maske angezeigt.
%    \item In der Anmelde-Maske der Nutzer auch zu einer Maske für die Registierung gelangen.
%    \item Ein \gls{Auftrag} kann über das \gls{Web-Interface} hinzugefügt werden. Dies geschieht über eine Eingabemaske.
%    \item Das Übergeben der Probleminstanz kann wahlweise direkt über ein Eingabefeld, hochladen der CNF-Datei oder Angabe einer URL erfolgen.
%    \item Das \gls{Web-Interface} besitzt eine Visualierung des Systemzustandes. Hier wird standardmäßig der aktuelle Zustand visualisiert,  es kann aber auch die Historie betrachtet werden.
%    \item Admins haben Zugriff auf eine exklusive Ansicht, mit der die Instanz von Mallob verwaltet werden kann.
%
%\subsection{Wunschkriterien}
%\subsubsection{Web-Interface}
%\begin{itemize}
%    \item Der Benutzer kann die Eingabe des Problems mit einem graphischem Editor vornehmen.
%    \item Ein Admin kann die Instanz von Mallob starten, beenden und neustarten. Hier gibt es auch die Möglichkeit, entsprechende Parameter einzugeben.
%\end{itemize}
%\end{itemize}

\section{Zielbestimmung}
\textit{Fallob} ermöglicht es \glslink{Nutzer}{Nutzern}, einfacher mit \href{https://github.com/domschrei/mallob}{Mallob} zu interagieren. Diese Interaktion kann auf zwei Wege erfolgen:
Einerseits wird eine \gls{API} für die Interaktion angeboten. Andererseits gibt es aber auch ein benutzerfreundliches \gls{Web-Interface}, welches die \gls{API} nutzt und somit eine graphische Oberfläche für diese darstellt. Auf beiden Wege können eigene \hyperref[B:Jobs]{Job} verwaltet werden. Darüber hinaus bietet das \gls{Web-Interface} auch eine Visualisierung des Systems.


\subsection{Musskriterien}
    \subsubsection{API}
        \begin{itemize}[noitemsep]
            \item Authentifizieren von \glslink{Nutzer}{Nutzern} \hyperref[FA:API:Authentifizieren von Nutzern]{(F1000)}
            %\item Registrieren von neuen Nutzer
            \item \hyperref[B:Jobs]{Job} einreichen \hyperref[FA:API:Einreichen von Jobs]{(F1010)}
            \item \hyperref[B:Jobs]{Job} abbrechen \hyperref[FA:API:Abbrechen von eingereichten Jobs]{(F1020)}
            \item \hyperref[B:Job-Informationen]{Informationen zu Jobs} abfragen \hyperref[FA:API:Abfragen der Informationenen von Jobs]{(F1030)}
            \item \hyperref[B:Job-Ergebnis]{Ergebnisse} von \hyperref[B:Jobs]{Jobs} abfragen \hyperref[FA:API:Ausgeben des Ergebnisses für eine oder mehrere Jobs]{(F1060)}
            \item \hyperref[B:Job-Beschreibung]{Beschreibung von Jobs} abfragen \hyperref[FA:API:Ausgeben der Job-Beschreibung]{(F1070)}
            \item Anbieten eines \hyperref[B:Event]{Event}-\glslink{Stream}{Streams} von Mallob \hyperref[FA:API:Ausgeben eines Event-Streams von Mallob]{(F1090)}
            \item Andauernde Anfrage zum Abwarten des Abschlusses eines einzelnen Jobs \hyperref[FA:API:Andauernde Abfrage des Ergebnisses eines Jobs]{(F1119)}
            \item Abfrage von Informationen der Mallob-Instanz \hyperref[FA:API:Abfragen der Informationen von Mallob]{(F1080)}
            %\item Erhalten von Informationen zu aufgetretenen Fehlern
        \end{itemize}
    \subsubsection{Web-Interface}
        \begin{itemize}[noitemsep]
            \item Authentifizieren von \glslink{Nutzer}{Nutzern} \hyperref[FA:Web-Interface:Anmelden]{(F2000)}
            %\item Registrierung von neuen Nutzern
            \item Tabellarische Übersicht  der Jobs
                \begin{itemize}[noitemsep]
                    \item Abbrechen mehrerer \hyperref[B:Jobs]{Job} auf einmal \hyperref[FA:Web-Interface:Abbruch mehrerer Jobs auf einmal]{(F2030)}
                    \item Herunterladen von mehreren \hyperref[B:Job-Ergebnis]{Ergebnisses} auf einmal \hyperref[FA:Web-Interface:herunterladen mehrerer Ergebnisse auf einmal]{(F2050)}
                \end{itemize}
            \item \hyperref[B:Jobs]{Job} über Eingabemaske einreichen \hyperref[FA:Web-Interface:Job einreichen]{(F2010)}
                \begin{itemize}[noitemsep]
                    \item Einreichen der \hyperref[B:Job-Beschreibung]{Job-Beschreibung} über ein Eingabe-Feld 
                    \item Einreichen der \hyperref[B:Job-Beschreibung]{Job-Beschreibung} durch Hochladen einer entsprechenden Datei
                \end{itemize}
            \item \hyperref[B:Jobs]{Job} abbrechen \hyperref[FA:Web-Interface:Abbruch eines einzelnen Jobs]{(F2020)}
            \item \hyperref[pages:job-page]{Job-Seite} um \hyperref[B:Job-Details]{Details} von \hyperref[B:Jobs]{Job} anzusehen \hyperref[FA:Web-Interface:Einsehen von Job-Informationen]{(F2080)}
            \item Herunterladen der \hyperref[B:Job-Ergebnis]{Job-Ergebnisse} \hyperref[FA:Web-Interface:Herunterladen eines einzelnen Ergebnisses]{(F2040)}
            \item Anzeigen von aufgetretenen Fehlern bei \glslink{Nutzer}{Nutzern} \hyperref[FA:Web-Interface:Anzeigen von Fehlern]{(F2060)}
            \item Anzeigen von Warnungen von Mallob im \hyperref[pages:admin]{Administratoren-Bereich} \hyperref[FA:Web-Interface:Anzeigen von Warnungen und Fehlermeldungen]{(F2070)} 
            %\item Verifizierungsmöglichkeit von neuen Nutzern für Administratoren 
            
                      
        \end{itemize}
    \subsubsection{Visualisierung}    
        \begin{itemize}[noitemsep]
            \item Das \gls{Web-Interface} enthält eine Visualisierung des \hyperref[B:Systemzustand]{Systemzustands} \hyperref[FA:Visualisierung:Anzeigen des Systemzustandes]{(F3000)}
                \begin{itemize}[noitemsep]
                    \item Darstellung der \glslink{Prozess}{Prozesse} als Punkte, ein Punkt je \gls{Prozess} %TODO: Ranks? oder PEs? oder ganz anderes Word?
                    \item Färbung der Punkte entsprechend dem zugehörigen \hyperref[B:Jobs]{Job} 
                    \item Verbinden der Punkte entsprechend der Position im \glslink{Binaerbaum}{Binärbaum} des Jobs
                    \item Dynamische Größe der Punkte und Verbindungen entsprechend der Position im \glslink{Binaerbaum}{Binärbaum} des Jobs
                \end{itemize}
            \item Automatische Aktualisierung der Visualisierung, wenn die Ansicht live ist \hyperref[FA:Visualisierung:Starten der Visualisierung]{(F3030)}
            %\item Wenn die Live-Ansicht ausgewählt ist, wird die Visualisierung automatisch aktualisiert
            \item Darstellen eines bestimmten vergangenen Zeitpunktes \hyperref[FA:Visualisierung:Springen]{(F3040)}
            \item Pausieren/Starten der Visualisierung \hyperref[FA:Visualisierung:Pausieren der Visualisierung]{(F3020)}
            \item Einsehen von \hyperref[B:Job-Details]{Details} zu einem aktiven \hyperref[B:Jobs]{Job} in einem separatem Feld \hyperref[FA:Visualisierung:Anzeigen von Details]{(F3010)}
            %\item Darstellung der PE als Punkte %TODO: Ranks? oder PEs? oder ganz anderes Word?
            %\item Färbung der Punkte entsprechend dem zugehörigen Job
            %\item Verbinden der Punkte entsprechend der Position im Binärbaum des Jobs
            %\item Dynamische Größe der Punkte und Verbindungen entsprechend der Position im Binärbaum des Jobs.
        \end{itemize}
    
    \subsubsection{System}
        \begin{itemize}[noitemsep]
            \item \gls{Konfigurationsdatei} für globale Einstellungen des Systems \hyperref[FA:System:Einstellungen festlegen]{(F4000)}
        \end{itemize}
        
        
\subsection{Wunschkriterien}
    \begin{itemize}[noitemsep]
        %\item Speichern von Jobdaten für Statistiken -> Irgendwie redundaten, da wir eh schon jobdaten speichern
        \item Möglichkeit für \glslink{Administrator}{Administratoren}, Mallob zu starten, beenden oder neuzustarten \hyperref[FA:Web-Interface:Verwalten von Malllob]{(F2140)}
        \item Registrierung von \glslink{Nutzer}{Nutzern} über die \gls{API} \hyperref[FA:API:Registrierung von Nutzern]{(F1150)}
        \item Registrierung von \glslink{Nutzer}{Nutzern} über das \gls{Web-Interface} \hyperref[FA:Web-Interface:Registrierung von Nutzern]{(F2120)}
        \item Sortieren der \hyperref[pages:job-table]{Job-Tabelle} im \gls{Web-Interface} \hyperref[FA:Web-Interface:Sortieren der Tabelle]{(F2150)}
        \item Automatisches Aktualisieren der \hyperref[pages:job-table]{Job-Tabelle} (\hyperref[FA:Web-Interface:Akutalisieren]{F2105})
        \item Alternative Anzeige der \hyperref[B:Job-Informationen]{Job-Informationen} in der Job-Tabelle im \gls{Web-Interface} \hyperref[FA:Web-Interface:Einsehen von Job-Informationen]{(F2080}
        \item Möglichkeit zum Neustart von abgebrochenen oder abgeschlossenen \hyperref[B:Jobs]{Jobs} \hyperref[FA:Web-Interface:Neustart]{(F2130)}
        \item Eingabemaske statt einfaches Eingabe-Feld für die Eingabe der \hyperref[B:Job-Beschreibung]{Job-Beschreibung} im \gls{Web-Interface}
        \item Einreichen der \hyperref[B:Job-Beschreibung]{Job-Beschreibung} über eine \gls{URL}, die auf die \hyperref[B:Job-Beschreibung]{Job-Beschreibung} zeigt \hyperref[FA:Web-Interface:Job einreichen]{(F2010)}
        \item Diagnosemöglichkeit für \glslink{Administrator}{Administratoren} im \gls{Web-Interface} \hyperref[FA:Web-Interface:Anzeigen von Diagnosedaten]{(F2165)}
        \item \gls{Nutzer} im \gls{Web-Interface} benachrichtigen, falls Mallob abstürzen sollte 
        \item Ändern der Wiedergabegeschwindigkeit bei der Visualisierung \hyperref[FA:Visualisierung:Aendern der Wiedergabegeschwindigkeit]{(F3050)}
        \item Darstellung des vollständigen \glslink{Binaerbaum}{Binärbaumes} des \hyperref[B:Jobs]{Jobs} in der Visualisierung \hyperref[FA:Visualisierung:Anzeigen des Binaerbaumes für einen Job]{(F3060)}
        \item Schnittstelle für \glslink{Plugin}{Plugins} in \gls{Web-Interface} \hyperref[FA:Web-Interface:Anzeigen von Plugins]{(F2170)}
        \item Entwicklung eines beispielhaften \glslink{Plugin}{Plugins}
    \end{itemize}
    
\subsection{Abgrenzungskriterien}
    \begin{itemize}[noitemsep]
        \item Es kann maximal ein Auftrag pro Anfrage hinzugefügt werden
        \item Korrektheit der Daten wird durch Mallob geprüft
        \item Es gibt keine Möglichkeit, falsche Daten in der \gls{API} zu korrigieren, in diesem Fall muss die gleiche Anfrage mit korrekten Daten erneut erfolgen
    \end{itemize}
